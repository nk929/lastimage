<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>영상 마지막 프레임 캡처 앱</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="wrap">
    <header>
      <h1>영상 마지막 프레임 캡처 <span class="version">ver 1.2</span></h1>
      <p>동영상을 업로드하면 <strong>마지막 프레임</strong>을 이미지로 저장합니다. (로컬에서만 처리, 서버 전송 없음)</p>
    </header>

    <main>
      <div class="card">
        <div class="row">
          <div class="panel">
            <label for="file" class="hint">동영상 선택 (MP4, WebM 등 브라우저 지원 코덱)</label>
            <input id="file" type="file" accept="video/*" />
            <button id="captureBtn" class="btn" disabled>마지막 프레임 캡처</button>
            <p id="status" class="hint">파일을 선택하세요.</p>
            <p id="err" class="error" hidden></p>
            <a id="download" class="btn download-btn" download="last-frame.png" style="display:none;">이미지 다운로드</a>

            <details>
              <summary>코덱이 재생되지 않으면?</summary>
              <p class="hint">모바일 사파리 등에서 <code>HEVC/H.265</code> 같은 형식은 미지원일 수 있습니다. 이 경우 서버에서 <code>ffmpeg</code>로 호환 포맷(H.264 등)으로 변환하거나, <code>ffmpeg.wasm</code>을 사용할 수 있습니다.</p>
            </details>
          </div>
          <div class="panel">
            <canvas id="canvas" class="preview" width="0" height="0"></canvas>
            <p class="hint canvas-info" id="canvasInfo" style="display:none;">캡처된 이미지 미리보기</p>
          </div>
        </div>
      </div>
    </main>

    <!-- 화면에 보이지 않는 비디오 요소 -->
    <video id="video" class="hidden" playsinline preload="metadata" muted></video>

    <footer>
      <p>Made by <strong>AI 5678</strong> Video Frame Capture App • All processing runs in your browser.</p>
    </footer>
  </div>

  <script src="js/main.js"></script>
</body>
</html>