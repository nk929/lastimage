# 영상 마지막 프레임 캡처 앱 ver 1.2

동영상을 업로드하면 마지막 프레임을 이미지로 캡처하고 다운로드할 수 있는 웹 애플리케이션입니다. 모든 처리는 클라이언트 브라우저에서 실행되어 서버로 파일이 전송되지 않습니다.

## ✨ 주요 기능

### 현재 완료된 기능
- ✅ **동영상 업로드**: 브라우저에서 지원하는 모든 동영상 형식 (MP4, WebM 등)
- ✅ **마지막 프레임 캡처**: 영상 원본 비율을 유지하며 Full HD 범위 내 최적 해상도로 추출
- ✅ **실시간 미리보기**: 캡처된 이미지를 캔버스에서 즉시 확인
- ✅ **이미지 다운로드**: PNG 형식으로 고품질 이미지 저장
- ✅ **반응형 디자인**: 모든 디바이스에서 최적화된 사용자 경험
- ✅ **다크 테마**: 눈에 편안한 어두운 UI 테마
- ✅ **에러 처리**: 지원되지 않는 형식 및 오류 상황 적절히 안내

## 🚀 사용 방법

1. **동영상 선택**: "동영상 선택" 버튼을 클릭하여 로컬 동영상 파일을 선택합니다.
2. **프레임 캡처**: 동영상이 로드되면 "마지막 프레임 캡처" 버튼을 클릭합니다.
3. **미리보기 확인**: 우측 패널에서 캡처된 이미지를 확인합니다.
4. **이미지 다운로드**: "이미지 다운로드" 버튼을 클릭하여 PNG 파일로 저장합니다.

## 🛠 기술 스택

- **HTML5**: 시맨틱 마크업과 Canvas API
- **CSS3**: CSS Variables, Flexbox, 반응형 디자인
- **Vanilla JavaScript**: ES6+ 최적화된 함수형 구조 (IIFE 패턴)
- **Canvas API**: 동영상 프레임 렌더링 및 이미지 생성
- **File API**: 로컬 파일 처리
- **Video API**: 동영상 메타데이터 및 프레임 제어
- **Promise/Async-Await**: 비동기 처리 최적화

## 📁 프로젝트 구조

```
├── index.html              # 메인 HTML 파일
├── css/
│   └── style.css          # 메인 스타일시트
├── js/
│   └── main.js           # 핵심 JavaScript 로직
└── README.md             # 프로젝트 문서
```

## 🎯 핵심 기능 상세

### 최적화된 JavaScript 구조
IIFE(즉시 실행 함수 표현식) 패턴을 사용한 효율적인 구현:

- **파일 처리**: 동영상 파일 검증 및 비동기 로드
- **프레임 제어**: Promise 기반 정확한 마지막 프레임 탐색 (0.05초 앞)
- **캔버스 렌더링**: 고품질 동영상 프레임을 캔버스에 그리기
- **이미지 생성**: 최적화된 PNG Blob 생성 (95% 품질)
- **메모리 관리**: 자동 URL 정리 및 리소스 해제
- **에러 처리**: 강화된 타임아웃 및 예외 처리 (8초 제한)

### 📊 캡처 이미지 해상도

**영상 원본 비율을 완벽히 유지하면서 Full HD 범위 내에서 최적화된 해상도로 출력됩니다.**

#### 🎯 해상도 처리 방식
- **4K 동영상 (3840×2160)** → **1920×1080 (16:9 비율 유지)**
- **4K 시네마 (4096×2160)** → **1920×1013 (약 1.9:1 비율 유지)**  
- **Full HD 동영상 (1920×1080)** → **1920×1080 (원본 크기)**
- **HD 동영상 (1280×720)** → **1280×720 (원본 크기 유지)**
- **세로 동영상 (720×1280)** → **720×1280 (원본 크기 유지)**
- **초광각 동영상 (2560×1080)** → **1920×810 (21:9 비율 유지)**

#### ✨ 주요 특징
1. **원본 비율 완벽 유지**: 영상 비율을 절대 왜곡하지 않음
2. **Full HD 범위 최적화**: 1920×1080을 초과하지 않는 범위에서 최대 크기
3. **무손실 품질**: 작은 해상도는 업스케일링 하지 않고 원본 크기 유지
4. **다양한 비율 지원**: 16:9, 21:9, 4:3, 세로형 등 모든 비율 지원
5. **실시간 정보**: "원본: 1280×720 → 출력: 1280×720 (원본 크기)" 형태로 표시

### 지원 형식
브라우저에서 지원하는 모든 동영상 코덱:
- H.264 (MP4)
- VP8/VP9 (WebM)
- AV1 (일부 최신 브라우저)

## ⚠️ 주의사항

### 코덱 호환성
- 일부 모바일 기기에서는 HEVC/H.265 형식을 지원하지 않을 수 있습니다.
- 지원되지 않는 형식의 경우 적절한 에러 메시지가 표시됩니다.
- 호환성 문제 해결을 위해 H.264 형식 사용을 권장합니다.

### 🎬 Sora/AI 생성 동영상 최적화
- **Sora 비디오 특별 지원**: OpenAI Sora에서 생성된 동영상을 위한 최적화된 처리
- **고품질 비디오 처리**: 대용량 AI 생성 비디오의 안정적인 프레임 캡처
- **다중 시도 렌더링**: 특수 인코딩된 비디오를 위한 강화된 캡처 알고리즘
- **자동 감지**: Sora 또는 고품질 비디오 자동 인식 및 최적 처리

### 브라우저 요구사항
- 모던 브라우저 (Chrome 60+, Firefox 60+, Safari 12+, Edge 79+)
- Canvas API 및 File API 지원 필수

## 🔮 향후 개발 계획

### 추가 예정 기능
- 🔄 **다중 프레임 캡처**: 영상의 여러 지점에서 프레임 추출
- 🔄 **프레임 선택**: 타임라인에서 원하는 시점 선택
- 🔄 **이미지 형식 선택**: JPEG, WebP 등 다양한 출력 형식
- 🔄 **배치 처리**: 여러 동영상 파일 동시 처리
- 🔄 **프레임 편집**: 기본적인 이미지 편집 기능 (크롭, 필터)
- 🔄 **ffmpeg.wasm 통합**: 클라이언트 사이드 동영상 변환

### 개선 예정 사항
- 🔄 **성능 최적화**: 대용량 동영상 처리 개선
- 🔄 **UI/UX 개선**: 드래그 앤 드롭, 진행률 표시기
- 🔄 **접근성 향상**: 키보드 네비게이션, 스크린 리더 지원

## 🌐 배포 정보

### 프로덕션 URL
- 개발 완료 후 배포 URL이 제공됩니다.

### API 엔드포인트
현재 버전은 클라이언트 전용으로 별도 API가 필요하지 않습니다.

## 📊 데이터 모델

### 처리 데이터
- **입력**: 동영상 파일 (File API)
- **출력**: PNG 이미지 (Blob)
- **메타데이터**: 동영상 길이, 해상도, 코덱 정보

### 저장소
- 모든 처리는 메모리에서 실행
- 파일은 로컬 디바이스에만 저장
- 서버 전송 없음 (완전한 클라이언트 사이드)

---

**Made with ❤️ by AI 5678 Video Frame Capture Team**
*All processing runs securely in your browser*